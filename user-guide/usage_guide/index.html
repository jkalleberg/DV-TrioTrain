
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Extend DeepVariant automatically for species without GIAB-quality benchmark truth sets.">
      
      
        <meta name="author" content="Jenna Kalleberg">
      
      
      
        <link rel="prev" href="../../getting-started/walk-through/">
      
      
        <link rel="next" href="../existing_models/">
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.3, mkdocs-material-9.1.14">
    
    
      
        <title>Overview - DeepVariant-TrioTrain</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.85bb2934.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#triotrain-data" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="DeepVariant-TrioTrain" class="md-header__button md-logo" aria-label="DeepVariant-TrioTrain" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            DeepVariant-TrioTrain
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Overview
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/jkalleberg/DV-TrioTrain" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    jkalleberg/DV-TrioTrain
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href="../.." class="md-tabs__link">
      Home
    </a>
  </li>

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../getting-started/getting-started/" class="md-tabs__link">
        Getting Started
      </a>
    </li>
  

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="./" class="md-tabs__link md-tabs__link--active">
        User Guide
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../about/about/" class="md-tabs__link">
        About
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="DeepVariant-TrioTrain" class="md-nav__button md-logo" aria-label="DeepVariant-TrioTrain" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    DeepVariant-TrioTrain
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/jkalleberg/DV-TrioTrain" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    jkalleberg/DV-TrioTrain
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
      
      
      
        <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
          Getting Started
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Getting Started
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/getting-started/" class="md-nav__link">
        Start Here
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/installation/" class="md-nav__link">
        Installation Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/configuration/" class="md-nav__link">
        Configuration Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/walk-through/" class="md-nav__link">
        Human GIAB Tutorial
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
      
      
      
        <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
          User Guide
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          User Guide
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Overview
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Overview
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#data-assumptions" class="md-nav__link">
    Data Assumptions
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#required-raw-data" class="md-nav__link">
    Required Raw Data
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#triotrain-specific-inputs" class="md-nav__link">
    TrioTrain-Specific Inputs
  </a>
  
    <nav class="md-nav" aria-label="TrioTrain-Specific Inputs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#configuring-slurm-resources" class="md-nav__link">
    Configuring SLURM Resources
  </a>
  
    <nav class="md-nav" aria-label="Configuring SLURM Resources">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#resource-config-format" class="md-nav__link">
    Resource Config Format
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#providing-required-data-to-triotrain" class="md-nav__link">
    Providing required data to TrioTrain
  </a>
  
    <nav class="md-nav" aria-label="Providing required data to TrioTrain">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#metadata-assumptions" class="md-nav__link">
    Metadata Assumptions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minimum-data-required" class="md-nav__link">
    Minimum Data Required
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#metadata-format" class="md-nav__link">
    Metadata Format
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#adding-more-test-genomes" class="md-nav__link">
    Adding more test genomes
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#triotrain-outputs" class="md-nav__link">
    TrioTrain Outputs
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../existing_models/" class="md-nav__link">
        Models
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../get-help/" class="md-nav__link">
        Getting help
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../citation/" class="md-nav__link">
        How to cite
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
      
      
      
        <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
          About
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          About
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../about/about/" class="md-nav__link">
        Learn more
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../about/license/" class="md-nav__link">
        License
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="triotrain-data">TrioTrain Data</h1>
<h2 id="data-assumptions">Data Assumptions</h2>
<p>TrioTrain and DeepVariant use several input file formats; however, all files must:</p>
<ul>
<li>exist before the execution of the pipeline</li>
<li>be compatible with the reference genome provided to the pipeline</li>
<li>be sorted and indexed</li>
<li>contain only one sample per file</li>
</ul>
<h2 id="required-raw-data">Required Raw Data</h2>
<p><a name="reference"></a></p>
<ol>
<li>
<p><strong>Reference Genome</strong></p>
<ul>
<li>must be in <a href="https://en.wikipedia.org/wiki/FASTA_format"><code>FASTA</code></a>
format</li>
<li>includes the corresponding
<a href="http://www.htslib.org/doc/faidx.html"><code>.fai</code> index file</a> generated with <code>samtools faidx</code> and located in the same directory</li>
<li>includes the corresponding <a href="https://gatk.broadinstitute.org/hc/en-us/articles/360036729911-CreateSequenceDictionary-Picard-"><code>.dict</code> file</a> generated with <code>picard</code> and located in the same directory</li>
<li><em>(OPTIONALLY)</em> includes the corresponding <a href="https://github.com/RealTimeGenomics/rtg-tools">Sequence Data File (SDF)</a> generated with <code>rtg-tools format</code> and located at the same path in a sub-directory called "rtg_tools" &mdash; required for calculating Mendelian Inhertiance Errors with testing genomes</li>
</ul>
</li>
<li>
<p><strong>Aligned Reads File(s)</strong></p>
<ul>
<li>must be aligned to the reference genome above</li>
<li>can be in either <a href="http://genome.sph.umich.edu/wiki/BAM"><code>BAM</code></a> format or <a href="https://www.ga4gh.org/product/cram/"><code>CRAM</code></a> format</li>
<li>includes the corresponding <code>.bai</code> or <code>.csi</code> index file located in the same directory</li>
</ul>
</li>
<li>
<p><strong>Benchmarking Variant File(s)</strong></p>
<ul>
<li>also referred to as  "truth genotypes", or "gold-standard genotypes"</li>
<li>must be in in <a href="https://samtools.github.io/hts-specs/VCFv4.3.pdf"><code>VCF</code></a> format and compressed with <code>bgzip</code></li>
<li>includes a corresponding <code>.tbi</code> index generated with <code>tabix</code> and located in the same directory</li>
<li>excludes any homozygous reference genotypes and any sites that violate Mendelian inheritance expectations</li>
</ul>
</li>
<li>
<p><strong>Benchmarking Region File(s)</strong></p>
<ul>
<li>also referred to as "callable regions"</li>
<li>must be in <a href="https://bedtools.readthedocs.io/en/latest/content/general-usage.html"><code>BED</code></a> format</li>
<li>must be compatible with the specified reference genome</li>
<li>compressed files will be decompressed</li>
<li>use <a href="https://bedtools.readthedocs.io/en/latest/content/overview.html?highlight=0-based#bed-starts-are-zero-based-and-bed-ends-are-one-based">0-based coordinates</a></li>
</ul>
</li>
<li>
<p><strong>Starting DeepVariant Model Checkpoint</strong></p>
<ul>
<li>used for warm-start a new model  initializing weights with a previous model</li>
<li>can either be downloaded from Google Cloud Platform (GCP) or created previously by a prior TrioTrain iteration</li>
<li>
<p>Checkpoints consists of four (4) files all located in the same directory:</p>
<ol>
<li><code>.data-00000-of-00001</code></li>
<li><code>.index</code></li>
<li><code>.meta</code></li>
<li><code>.example_info.json</code> &mdash; defines which features to include as channels within the images given to DeepVariant in <a href="https://www.tensorflow.org/tutorials/load_data/tfrecord"><code>tfRecord</code> format</a></li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Examples made with different channel(s), a different tfRecord shape, or a different DeepVariant version can be incompatible with your chosen starting model. <a href="../existing_models/">Get details about model features compatible with TrioTrain, such as shape, version and channels here</a>.</p>
<p><em>You can check the shape of a model's examples with:</em></p>
<p><code>jq '.' &lt;model_name&gt;.example_info.json</code>.           </p>
</div>
</li>
</ul>
</li>
<li>
<p><em>(OPTIONAL)</em> <strong>Population Allele Frequencies</strong></p>
<ul>
<li>must be in <a href="https://samtools.github.io/hts-specs/VCFv4.3.pdf"><code>VCF</code></a> format and compressed with <code>bgzip</code></li>
<li>includes a corresponding <code>.tbi</code> index generated with <code>tabix</code> and located in the same directory</li>
<li>genotypes should be removed</li>
</ul>
</li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Our automated, cattle-optimized GATK Best Practices workflow used to generate our input files automatically performs realignment and  recalibration with Base Quality Score Recalibration <a href="https://gatk.broadinstitute.org/hc/en-us/articles/360035890531-Base-Quality-Score-Recalibration-BQSR-">(BQSR)</a>. <em>BQSR is not required or recommended for using the single-step variant caller from DeepVariant, as it may decrease the accuracy.</em></p>
<p>However, re-training involves a small proportion of the total genomes processed by UMAG group (55 of 5,500+). Thus, removing BQSR would  decrease the quality of the entire cohort's GATK genotypes used in other research. The impact of including BQSR in our truth labels was not evaluated further during TrioTrain's development.</p>
</div>
<h2 id="triotrain-specific-inputs">TrioTrain-Specific Inputs</h2>
<h3 id="configuring-slurm-resources">Configuring SLURM Resources</h3>
<p>SLURM resources are handled by TrioTrain via a resource configuration file (<code>.json</code>).</p>
<details class="example">
<summary>Example | Resource Config File</summary>
<div class="highlight"><span class="filename">triotrain/model_training/tutorial/resources_used.json</span><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>{
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>    &quot;make_examples&quot;: {
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>        &quot;partition&quot;: &quot;hpc5,hpc6,BioCompute&quot;,
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>        &quot;nodes&quot;: 1,
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>        &quot;ntasks&quot;: 40,
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>        &quot;mem&quot;: 379067,
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>        &quot;CPUmem&quot;: 9000,
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>        &quot;time&quot;: &quot;0-2:00:00&quot;,
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a>        &quot;account&quot;: &quot;animalsci&quot;,
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a>        &quot;email&quot;: &quot;jakth2@mail.missouri.edu&quot;
<a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a>    },
<a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a>    &quot;beam_shuffle&quot;: {
<a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a>        &quot;partition&quot;: &quot;hpc5,BioCompute&quot;,
<a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a>        &quot;nodes&quot;: 1,
<a id="__codelineno-0-15" name="__codelineno-0-15" href="#__codelineno-0-15"></a>        &quot;ntasks&quot;: 40,
<a id="__codelineno-0-16" name="__codelineno-0-16" href="#__codelineno-0-16"></a>        &quot;mem&quot;: 379067,
<a id="__codelineno-0-17" name="__codelineno-0-17" href="#__codelineno-0-17"></a>        &quot;time&quot;: &quot;0-2:00:00&quot;,
<a id="__codelineno-0-18" name="__codelineno-0-18" href="#__codelineno-0-18"></a>        &quot;account&quot;: &quot;animalsci&quot;,
<a id="__codelineno-0-19" name="__codelineno-0-19" href="#__codelineno-0-19"></a>        &quot;email&quot;: &quot;jakth2@mail.missouri.edu&quot;
<a id="__codelineno-0-20" name="__codelineno-0-20" href="#__codelineno-0-20"></a>    },
<a id="__codelineno-0-21" name="__codelineno-0-21" href="#__codelineno-0-21"></a>    &quot;re_shuffle&quot;: {
<a id="__codelineno-0-22" name="__codelineno-0-22" href="#__codelineno-0-22"></a>        &quot;partition&quot;: &quot;BioCompute,Lewis&quot;,
<a id="__codelineno-0-23" name="__codelineno-0-23" href="#__codelineno-0-23"></a>        &quot;nodes&quot;: 1,
<a id="__codelineno-0-24" name="__codelineno-0-24" href="#__codelineno-0-24"></a>        &quot;ntasks&quot;: 1,
<a id="__codelineno-0-25" name="__codelineno-0-25" href="#__codelineno-0-25"></a>        &quot;mem&quot;: &quot;200G&quot;,
<a id="__codelineno-0-26" name="__codelineno-0-26" href="#__codelineno-0-26"></a>        &quot;time&quot;: &quot;0-10:00:00&quot;,
<a id="__codelineno-0-27" name="__codelineno-0-27" href="#__codelineno-0-27"></a>        &quot;account&quot;: &quot;animalsci&quot;,
<a id="__codelineno-0-28" name="__codelineno-0-28" href="#__codelineno-0-28"></a>        &quot;email&quot;: &quot;jakth2@mail.missouri.edu&quot;
<a id="__codelineno-0-29" name="__codelineno-0-29" href="#__codelineno-0-29"></a>    },
<a id="__codelineno-0-30" name="__codelineno-0-30" href="#__codelineno-0-30"></a>    &quot;train_eval&quot;: {
<a id="__codelineno-0-31" name="__codelineno-0-31" href="#__codelineno-0-31"></a>        &quot;partition&quot;: &quot;gpu3&quot;,
<a id="__codelineno-0-32" name="__codelineno-0-32" href="#__codelineno-0-32"></a>        &quot;gres&quot;: &quot;gpu:2&quot;,
<a id="__codelineno-0-33" name="__codelineno-0-33" href="#__codelineno-0-33"></a>        &quot;nodes&quot;: 1,
<a id="__codelineno-0-34" name="__codelineno-0-34" href="#__codelineno-0-34"></a>        &quot;ntasks&quot;: 16,
<a id="__codelineno-0-35" name="__codelineno-0-35" href="#__codelineno-0-35"></a>        &quot;mem&quot;: &quot;0&quot;,
<a id="__codelineno-0-36" name="__codelineno-0-36" href="#__codelineno-0-36"></a>        &quot;time&quot;: &quot;2-00:00:00&quot;,
<a id="__codelineno-0-37" name="__codelineno-0-37" href="#__codelineno-0-37"></a>        &quot;account&quot;: &quot;animalsci&quot;,
<a id="__codelineno-0-38" name="__codelineno-0-38" href="#__codelineno-0-38"></a>        &quot;email&quot;: &quot;jakth2@mail.missouri.edu&quot;
<a id="__codelineno-0-39" name="__codelineno-0-39" href="#__codelineno-0-39"></a>    },
<a id="__codelineno-0-40" name="__codelineno-0-40" href="#__codelineno-0-40"></a>    &quot;select_ckpt&quot;: {
<a id="__codelineno-0-41" name="__codelineno-0-41" href="#__codelineno-0-41"></a>        &quot;partition&quot;: &quot;BioCompute,Lewis&quot;,
<a id="__codelineno-0-42" name="__codelineno-0-42" href="#__codelineno-0-42"></a>        &quot;nodes&quot;: 1,
<a id="__codelineno-0-43" name="__codelineno-0-43" href="#__codelineno-0-43"></a>        &quot;ntasks&quot;: 1,
<a id="__codelineno-0-44" name="__codelineno-0-44" href="#__codelineno-0-44"></a>        &quot;mem&quot;: 500,
<a id="__codelineno-0-45" name="__codelineno-0-45" href="#__codelineno-0-45"></a>        &quot;time&quot;: &quot;0-00:30:00&quot;,
<a id="__codelineno-0-46" name="__codelineno-0-46" href="#__codelineno-0-46"></a>        &quot;account&quot;: &quot;animalsci&quot;,
<a id="__codelineno-0-47" name="__codelineno-0-47" href="#__codelineno-0-47"></a>        &quot;email&quot;: &quot;jakth2@mail.missouri.edu&quot;
<a id="__codelineno-0-48" name="__codelineno-0-48" href="#__codelineno-0-48"></a>    },
<a id="__codelineno-0-49" name="__codelineno-0-49" href="#__codelineno-0-49"></a>    &quot;call_variants&quot;: {
<a id="__codelineno-0-50" name="__codelineno-0-50" href="#__codelineno-0-50"></a>        &quot;partition&quot;: &quot;hpc5,BioCompute&quot;,
<a id="__codelineno-0-51" name="__codelineno-0-51" href="#__codelineno-0-51"></a>        &quot;nodes&quot;: 1,
<a id="__codelineno-0-52" name="__codelineno-0-52" href="#__codelineno-0-52"></a>        &quot;ntasks&quot;: 40,
<a id="__codelineno-0-53" name="__codelineno-0-53" href="#__codelineno-0-53"></a>        &quot;mem&quot;: 379067,
<a id="__codelineno-0-54" name="__codelineno-0-54" href="#__codelineno-0-54"></a>        &quot;time&quot;: &quot;2-00:00:00&quot;,
<a id="__codelineno-0-55" name="__codelineno-0-55" href="#__codelineno-0-55"></a>        &quot;account&quot;: &quot;animalsci&quot;,
<a id="__codelineno-0-56" name="__codelineno-0-56" href="#__codelineno-0-56"></a>        &quot;email&quot;: &quot;jakth2@mail.missouri.edu&quot;
<a id="__codelineno-0-57" name="__codelineno-0-57" href="#__codelineno-0-57"></a>    },
<a id="__codelineno-0-58" name="__codelineno-0-58" href="#__codelineno-0-58"></a>    &quot;compare_happy&quot;: {
<a id="__codelineno-0-59" name="__codelineno-0-59" href="#__codelineno-0-59"></a>        &quot;partition&quot;: &quot;BioCompute,hpc5&quot;,
<a id="__codelineno-0-60" name="__codelineno-0-60" href="#__codelineno-0-60"></a>        &quot;nodes&quot;: 1,
<a id="__codelineno-0-61" name="__codelineno-0-61" href="#__codelineno-0-61"></a>        &quot;ntasks&quot;: 40,
<a id="__codelineno-0-62" name="__codelineno-0-62" href="#__codelineno-0-62"></a>        &quot;mem&quot;: &quot;300G&quot;,
<a id="__codelineno-0-63" name="__codelineno-0-63" href="#__codelineno-0-63"></a>        &quot;time&quot;: &quot;0-12:00:00&quot;,
<a id="__codelineno-0-64" name="__codelineno-0-64" href="#__codelineno-0-64"></a>        &quot;account&quot;: &quot;biocommunity&quot;,
<a id="__codelineno-0-65" name="__codelineno-0-65" href="#__codelineno-0-65"></a>        &quot;email&quot;: &quot;jakth2@mail.missouri.edu&quot;
<a id="__codelineno-0-66" name="__codelineno-0-66" href="#__codelineno-0-66"></a>    },
<a id="__codelineno-0-67" name="__codelineno-0-67" href="#__codelineno-0-67"></a>    &quot;convert_happy&quot;: {
<a id="__codelineno-0-68" name="__codelineno-0-68" href="#__codelineno-0-68"></a>        &quot;partition&quot;: &quot;BioCompute,hpc3,hpc5,Lewis&quot;,
<a id="__codelineno-0-69" name="__codelineno-0-69" href="#__codelineno-0-69"></a>        &quot;nodes&quot;: 1,
<a id="__codelineno-0-70" name="__codelineno-0-70" href="#__codelineno-0-70"></a>        &quot;ntasks&quot;: 24,
<a id="__codelineno-0-71" name="__codelineno-0-71" href="#__codelineno-0-71"></a>        &quot;mem&quot;: &quot;120G&quot;,
<a id="__codelineno-0-72" name="__codelineno-0-72" href="#__codelineno-0-72"></a>        &quot;time&quot;: &quot;0-05:00:00&quot;,
<a id="__codelineno-0-73" name="__codelineno-0-73" href="#__codelineno-0-73"></a>        &quot;account&quot;: &quot;biocommunity&quot;,
<a id="__codelineno-0-74" name="__codelineno-0-74" href="#__codelineno-0-74"></a>        &quot;email&quot;: &quot;jakth2@mail.missouri.edu&quot;
<a id="__codelineno-0-75" name="__codelineno-0-75" href="#__codelineno-0-75"></a>    },
<a id="__codelineno-0-76" name="__codelineno-0-76" href="#__codelineno-0-76"></a>    &quot;show_examples&quot;: {
<a id="__codelineno-0-77" name="__codelineno-0-77" href="#__codelineno-0-77"></a>        &quot;partition&quot;: &quot;BioCompute,Lewis&quot;,
<a id="__codelineno-0-78" name="__codelineno-0-78" href="#__codelineno-0-78"></a>        &quot;nodes&quot;: 1,
<a id="__codelineno-0-79" name="__codelineno-0-79" href="#__codelineno-0-79"></a>        &quot;mem&quot;: &quot;1G&quot;,
<a id="__codelineno-0-80" name="__codelineno-0-80" href="#__codelineno-0-80"></a>        &quot;time&quot;: &quot;0-02:00:00&quot;,
<a id="__codelineno-0-81" name="__codelineno-0-81" href="#__codelineno-0-81"></a>        &quot;account&quot;: &quot;animalsci&quot;,
<a id="__codelineno-0-82" name="__codelineno-0-82" href="#__codelineno-0-82"></a>        &quot;email&quot;: &quot;jakth2@mail.missouri.edu&quot;
<a id="__codelineno-0-83" name="__codelineno-0-83" href="#__codelineno-0-83"></a>    },
<a id="__codelineno-0-84" name="__codelineno-0-84" href="#__codelineno-0-84"></a>    &quot;summary&quot;: {
<a id="__codelineno-0-85" name="__codelineno-0-85" href="#__codelineno-0-85"></a>        &quot;partition&quot;: &quot;hpc5,hpc6,Lewis&quot;,
<a id="__codelineno-0-86" name="__codelineno-0-86" href="#__codelineno-0-86"></a>        &quot;nodes&quot;: 1,
<a id="__codelineno-0-87" name="__codelineno-0-87" href="#__codelineno-0-87"></a>        &quot;ntasks&quot;: 4,
<a id="__codelineno-0-88" name="__codelineno-0-88" href="#__codelineno-0-88"></a>        &quot;mem&quot;: &quot;40G&quot;,
<a id="__codelineno-0-89" name="__codelineno-0-89" href="#__codelineno-0-89"></a>        &quot;time&quot;: &quot;0-10:00:00&quot;,
<a id="__codelineno-0-90" name="__codelineno-0-90" href="#__codelineno-0-90"></a>        &quot;account&quot;: &quot;schnabellab&quot;,
<a id="__codelineno-0-91" name="__codelineno-0-91" href="#__codelineno-0-91"></a>        &quot;email&quot;: &quot;jakth2@mail.missouri.edu&quot;
<a id="__codelineno-0-92" name="__codelineno-0-92" href="#__codelineno-0-92"></a>    }
<a id="__codelineno-0-93" name="__codelineno-0-93" href="#__codelineno-0-93"></a>}
</code></pre></div>
</details>
<h4 id="resource-config-format">Resource Config Format</h4>
<p>Contains nested dictionaries in the following format:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="p">{</span><span class="nt">&quot;phase_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="w">    </span><span class="nt">&quot;SLURM_SBATCH_PARAMETER&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;value&quot;</span><span class="p">,</span>
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="w">    </span><span class="nt">&quot;SLURM_SBATCH_PARAMETER&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;value&quot;</span><span class="p">,</span>
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a><span class="w">    </span><span class="nt">&quot;SLURM_SBATCH_PARAMETER&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;value&quot;</span><span class="p">,</span>
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a><span class="p">}</span>
</code></pre></div>
<p>There are (8) required phases within TrioTrain's SLURM config file. Valid <code>phase_names</code> for these include:</p>
<ol>
<li><code>make_examples</code></li>
<li><code>beam_shuffle</code></li>
<li><code>re_shuffle</code></li>
<li><code>train_eval</code></li>
<li><code>select_ckpt</code></li>
<li><code>call_variants</code></li>
<li><code>compare_happy</code></li>
<li><code>convert_happy</code></li>
</ol>
<p>Additionally, there are (3) optional phase names for TrioTrain's supplementary analyes that include:</p>
<ol>
<li><code>show_examples</code> &mdash; for running TrioTrain in 'demo' mode</li>
<li><code>summary_stats</code> &mdash; for calculating per-VCF stats for each test genome</li>
<li><code>mie_summary</code> &mdash; for calculating Mendelian Inheritance Error rate in trio-binned test genomes</li>
</ol>
<p>The value for each <code>phase_name</code> is a nested dictionary that contains key:value pairs of parameters for running SBATCH job files. <a href="https://slurm.schedmd.com/sbatch.html">You can view valid SBATCH options in the SLURM documentation.</a></p>
<details class="example">
<summary>Example | Resource Config File</summary>
<div class="highlight"><span class="filename">triotrain/model_training/tutorial/resources_used.json</span><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>{
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>    &quot;make_examples&quot;: {
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a>        &quot;partition&quot;: &quot;hpc5,hpc6,BioCompute&quot;,
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a>        &quot;nodes&quot;: 1,
<a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a>        &quot;ntasks&quot;: 40,
<a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a>        &quot;mem&quot;: 379067,
<a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a>        &quot;CPUmem&quot;: 9000,
<a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a>        &quot;time&quot;: &quot;0-2:00:00&quot;,
<a id="__codelineno-2-9" name="__codelineno-2-9" href="#__codelineno-2-9"></a>        &quot;account&quot;: &quot;animalsci&quot;,
<a id="__codelineno-2-10" name="__codelineno-2-10" href="#__codelineno-2-10"></a>        &quot;email&quot;: &quot;jakth2@mail.missouri.edu&quot;
<a id="__codelineno-2-11" name="__codelineno-2-11" href="#__codelineno-2-11"></a>    },
<a id="__codelineno-2-12" name="__codelineno-2-12" href="#__codelineno-2-12"></a>    &quot;beam_shuffle&quot;: {
<a id="__codelineno-2-13" name="__codelineno-2-13" href="#__codelineno-2-13"></a>        &quot;partition&quot;: &quot;hpc5,BioCompute&quot;,
<a id="__codelineno-2-14" name="__codelineno-2-14" href="#__codelineno-2-14"></a>        &quot;nodes&quot;: 1,
<a id="__codelineno-2-15" name="__codelineno-2-15" href="#__codelineno-2-15"></a>        &quot;ntasks&quot;: 40,
<a id="__codelineno-2-16" name="__codelineno-2-16" href="#__codelineno-2-16"></a>        &quot;mem&quot;: 379067,
<a id="__codelineno-2-17" name="__codelineno-2-17" href="#__codelineno-2-17"></a>        &quot;time&quot;: &quot;0-2:00:00&quot;,
<a id="__codelineno-2-18" name="__codelineno-2-18" href="#__codelineno-2-18"></a>        &quot;account&quot;: &quot;animalsci&quot;,
<a id="__codelineno-2-19" name="__codelineno-2-19" href="#__codelineno-2-19"></a>        &quot;email&quot;: &quot;jakth2@mail.missouri.edu&quot;
<a id="__codelineno-2-20" name="__codelineno-2-20" href="#__codelineno-2-20"></a>    },
<a id="__codelineno-2-21" name="__codelineno-2-21" href="#__codelineno-2-21"></a>    &quot;re_shuffle&quot;: {
<a id="__codelineno-2-22" name="__codelineno-2-22" href="#__codelineno-2-22"></a>        &quot;partition&quot;: &quot;BioCompute,Lewis&quot;,
<a id="__codelineno-2-23" name="__codelineno-2-23" href="#__codelineno-2-23"></a>        &quot;nodes&quot;: 1,
<a id="__codelineno-2-24" name="__codelineno-2-24" href="#__codelineno-2-24"></a>        &quot;ntasks&quot;: 1,
<a id="__codelineno-2-25" name="__codelineno-2-25" href="#__codelineno-2-25"></a>        &quot;mem&quot;: &quot;200G&quot;,
<a id="__codelineno-2-26" name="__codelineno-2-26" href="#__codelineno-2-26"></a>        &quot;time&quot;: &quot;0-10:00:00&quot;,
<a id="__codelineno-2-27" name="__codelineno-2-27" href="#__codelineno-2-27"></a>        &quot;account&quot;: &quot;animalsci&quot;,
<a id="__codelineno-2-28" name="__codelineno-2-28" href="#__codelineno-2-28"></a>        &quot;email&quot;: &quot;jakth2@mail.missouri.edu&quot;
<a id="__codelineno-2-29" name="__codelineno-2-29" href="#__codelineno-2-29"></a>    },
<a id="__codelineno-2-30" name="__codelineno-2-30" href="#__codelineno-2-30"></a>    &quot;train_eval&quot;: {
<a id="__codelineno-2-31" name="__codelineno-2-31" href="#__codelineno-2-31"></a>        &quot;partition&quot;: &quot;gpu3&quot;,
<a id="__codelineno-2-32" name="__codelineno-2-32" href="#__codelineno-2-32"></a>        &quot;gres&quot;: &quot;gpu:2&quot;,
<a id="__codelineno-2-33" name="__codelineno-2-33" href="#__codelineno-2-33"></a>        &quot;nodes&quot;: 1,
<a id="__codelineno-2-34" name="__codelineno-2-34" href="#__codelineno-2-34"></a>        &quot;ntasks&quot;: 16,
<a id="__codelineno-2-35" name="__codelineno-2-35" href="#__codelineno-2-35"></a>        &quot;mem&quot;: &quot;0&quot;,
<a id="__codelineno-2-36" name="__codelineno-2-36" href="#__codelineno-2-36"></a>        &quot;time&quot;: &quot;2-00:00:00&quot;,
<a id="__codelineno-2-37" name="__codelineno-2-37" href="#__codelineno-2-37"></a>        &quot;account&quot;: &quot;animalsci&quot;,
<a id="__codelineno-2-38" name="__codelineno-2-38" href="#__codelineno-2-38"></a>        &quot;email&quot;: &quot;jakth2@mail.missouri.edu&quot;
<a id="__codelineno-2-39" name="__codelineno-2-39" href="#__codelineno-2-39"></a>    },
<a id="__codelineno-2-40" name="__codelineno-2-40" href="#__codelineno-2-40"></a>    &quot;select_ckpt&quot;: {
<a id="__codelineno-2-41" name="__codelineno-2-41" href="#__codelineno-2-41"></a>        &quot;partition&quot;: &quot;BioCompute,Lewis&quot;,
<a id="__codelineno-2-42" name="__codelineno-2-42" href="#__codelineno-2-42"></a>        &quot;nodes&quot;: 1,
<a id="__codelineno-2-43" name="__codelineno-2-43" href="#__codelineno-2-43"></a>        &quot;ntasks&quot;: 1,
<a id="__codelineno-2-44" name="__codelineno-2-44" href="#__codelineno-2-44"></a>        &quot;mem&quot;: 500,
<a id="__codelineno-2-45" name="__codelineno-2-45" href="#__codelineno-2-45"></a>        &quot;time&quot;: &quot;0-00:30:00&quot;,
<a id="__codelineno-2-46" name="__codelineno-2-46" href="#__codelineno-2-46"></a>        &quot;account&quot;: &quot;animalsci&quot;,
<a id="__codelineno-2-47" name="__codelineno-2-47" href="#__codelineno-2-47"></a>        &quot;email&quot;: &quot;jakth2@mail.missouri.edu&quot;
<a id="__codelineno-2-48" name="__codelineno-2-48" href="#__codelineno-2-48"></a>    },
<a id="__codelineno-2-49" name="__codelineno-2-49" href="#__codelineno-2-49"></a>    &quot;call_variants&quot;: {
<a id="__codelineno-2-50" name="__codelineno-2-50" href="#__codelineno-2-50"></a>        &quot;partition&quot;: &quot;hpc5,BioCompute&quot;,
<a id="__codelineno-2-51" name="__codelineno-2-51" href="#__codelineno-2-51"></a>        &quot;nodes&quot;: 1,
<a id="__codelineno-2-52" name="__codelineno-2-52" href="#__codelineno-2-52"></a>        &quot;ntasks&quot;: 40,
<a id="__codelineno-2-53" name="__codelineno-2-53" href="#__codelineno-2-53"></a>        &quot;mem&quot;: 379067,
<a id="__codelineno-2-54" name="__codelineno-2-54" href="#__codelineno-2-54"></a>        &quot;time&quot;: &quot;2-00:00:00&quot;,
<a id="__codelineno-2-55" name="__codelineno-2-55" href="#__codelineno-2-55"></a>        &quot;account&quot;: &quot;animalsci&quot;,
<a id="__codelineno-2-56" name="__codelineno-2-56" href="#__codelineno-2-56"></a>        &quot;email&quot;: &quot;jakth2@mail.missouri.edu&quot;
<a id="__codelineno-2-57" name="__codelineno-2-57" href="#__codelineno-2-57"></a>    },
<a id="__codelineno-2-58" name="__codelineno-2-58" href="#__codelineno-2-58"></a>    &quot;compare_happy&quot;: {
<a id="__codelineno-2-59" name="__codelineno-2-59" href="#__codelineno-2-59"></a>        &quot;partition&quot;: &quot;BioCompute,hpc5&quot;,
<a id="__codelineno-2-60" name="__codelineno-2-60" href="#__codelineno-2-60"></a>        &quot;nodes&quot;: 1,
<a id="__codelineno-2-61" name="__codelineno-2-61" href="#__codelineno-2-61"></a>        &quot;ntasks&quot;: 40,
<a id="__codelineno-2-62" name="__codelineno-2-62" href="#__codelineno-2-62"></a>        &quot;mem&quot;: &quot;300G&quot;,
<a id="__codelineno-2-63" name="__codelineno-2-63" href="#__codelineno-2-63"></a>        &quot;time&quot;: &quot;0-12:00:00&quot;,
<a id="__codelineno-2-64" name="__codelineno-2-64" href="#__codelineno-2-64"></a>        &quot;account&quot;: &quot;biocommunity&quot;,
<a id="__codelineno-2-65" name="__codelineno-2-65" href="#__codelineno-2-65"></a>        &quot;email&quot;: &quot;jakth2@mail.missouri.edu&quot;
<a id="__codelineno-2-66" name="__codelineno-2-66" href="#__codelineno-2-66"></a>    },
<a id="__codelineno-2-67" name="__codelineno-2-67" href="#__codelineno-2-67"></a>    &quot;convert_happy&quot;: {
<a id="__codelineno-2-68" name="__codelineno-2-68" href="#__codelineno-2-68"></a>        &quot;partition&quot;: &quot;BioCompute,hpc3,hpc5,Lewis&quot;,
<a id="__codelineno-2-69" name="__codelineno-2-69" href="#__codelineno-2-69"></a>        &quot;nodes&quot;: 1,
<a id="__codelineno-2-70" name="__codelineno-2-70" href="#__codelineno-2-70"></a>        &quot;ntasks&quot;: 24,
<a id="__codelineno-2-71" name="__codelineno-2-71" href="#__codelineno-2-71"></a>        &quot;mem&quot;: &quot;120G&quot;,
<a id="__codelineno-2-72" name="__codelineno-2-72" href="#__codelineno-2-72"></a>        &quot;time&quot;: &quot;0-05:00:00&quot;,
<a id="__codelineno-2-73" name="__codelineno-2-73" href="#__codelineno-2-73"></a>        &quot;account&quot;: &quot;biocommunity&quot;,
<a id="__codelineno-2-74" name="__codelineno-2-74" href="#__codelineno-2-74"></a>        &quot;email&quot;: &quot;jakth2@mail.missouri.edu&quot;
<a id="__codelineno-2-75" name="__codelineno-2-75" href="#__codelineno-2-75"></a>    },
<a id="__codelineno-2-76" name="__codelineno-2-76" href="#__codelineno-2-76"></a>    &quot;show_examples&quot;: {
<a id="__codelineno-2-77" name="__codelineno-2-77" href="#__codelineno-2-77"></a>        &quot;partition&quot;: &quot;BioCompute,Lewis&quot;,
<a id="__codelineno-2-78" name="__codelineno-2-78" href="#__codelineno-2-78"></a>        &quot;nodes&quot;: 1,
<a id="__codelineno-2-79" name="__codelineno-2-79" href="#__codelineno-2-79"></a>        &quot;mem&quot;: &quot;1G&quot;,
<a id="__codelineno-2-80" name="__codelineno-2-80" href="#__codelineno-2-80"></a>        &quot;time&quot;: &quot;0-02:00:00&quot;,
<a id="__codelineno-2-81" name="__codelineno-2-81" href="#__codelineno-2-81"></a>        &quot;account&quot;: &quot;animalsci&quot;,
<a id="__codelineno-2-82" name="__codelineno-2-82" href="#__codelineno-2-82"></a>        &quot;email&quot;: &quot;jakth2@mail.missouri.edu&quot;
<a id="__codelineno-2-83" name="__codelineno-2-83" href="#__codelineno-2-83"></a>    },
<a id="__codelineno-2-84" name="__codelineno-2-84" href="#__codelineno-2-84"></a>    &quot;summary&quot;: {
<a id="__codelineno-2-85" name="__codelineno-2-85" href="#__codelineno-2-85"></a>        &quot;partition&quot;: &quot;hpc5,hpc6,Lewis&quot;,
<a id="__codelineno-2-86" name="__codelineno-2-86" href="#__codelineno-2-86"></a>        &quot;nodes&quot;: 1,
<a id="__codelineno-2-87" name="__codelineno-2-87" href="#__codelineno-2-87"></a>        &quot;ntasks&quot;: 4,
<a id="__codelineno-2-88" name="__codelineno-2-88" href="#__codelineno-2-88"></a>        &quot;mem&quot;: &quot;40G&quot;,
<a id="__codelineno-2-89" name="__codelineno-2-89" href="#__codelineno-2-89"></a>        &quot;time&quot;: &quot;0-10:00:00&quot;,
<a id="__codelineno-2-90" name="__codelineno-2-90" href="#__codelineno-2-90"></a>        &quot;account&quot;: &quot;schnabellab&quot;,
<a id="__codelineno-2-91" name="__codelineno-2-91" href="#__codelineno-2-91"></a>        &quot;email&quot;: &quot;jakth2@mail.missouri.edu&quot;
<a id="__codelineno-2-92" name="__codelineno-2-92" href="#__codelineno-2-92"></a>    }
<a id="__codelineno-2-93" name="__codelineno-2-93" href="#__codelineno-2-93"></a>}
</code></pre></div>
</details>
<h3 id="providing-required-data-to-triotrain">Providing required data to TrioTrain</h3>
<p>Input files are handled by the primary input file for TrioTrain, a metadata file in <code>.csv</code> format. This input file includes trio pedigree information, and the absolute file paths for the local data you want to give DeepVariant.</p>
<p>Different metadata files are used to define different re-training approaches. For example, you can alter the order in which trios are given to DeepVariant by varying the row order in two different metadata files.</p>
<h4 id="metadata-assumptions">Metadata Assumptions</h4>
<ul>
<li>The first row includes column headers which will become variable names within TrioTrain</li>
<li>Each row corresponds to one complete family trio resulting in (2) re-training iterations, one for each parent</li>
<li>Row order determines the sequential order of how trios seen by DeepVariant</li>
<li>There are <strong>(24) REQUIRED</strong> columns that must be in the order specified in the <a href="#metadata-format">Metadata Format section below</a></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If the data are available, you can perform additional iterations of TrioTrain by adding rows for each additional trio.</p>
<p>Likewise, further test replicates can be achieved by adding columns in sets of three [<code>BAM,TruthVCF,TruthBED</code>] for each additional test genome.</p>
</div>
<h4 id="minimum-data-required">Minimum Data Required</h4>
<p>At a minimum, the metadata file must provide absolute paths to the following input files:</p>
<ol>
<li>
<p>TrioTrain performs two iterations of re-training, one for each parent in a trio which requires:</p>
<ul>
<li>Three (3) aligned read data <code>.bam</code> files, with the corresponding <code>.bai</code> index.</li>
<li>Three (3) benchmark <code>.vcf.gz</code> files, with the corresponding <code>.vcf.gz.tbi</code> index.</li>
<li>Three (3) benchmark region <code>.bed</code> files.</li>
</ul>
</li>
<li>
<p>TrioTrain tests the model produced for each iteration using a set of genomes previously unseen by the model. Ideally, these testing samples should consist of individuals outside of the family and requires:</p>
<ul>
<li>One or more (1+) aligned read data <code>.bam</code> files, with the corresponding <code>.bai</code> index.</li>
<li>One or more (1+) benchmark <code>.vcf.gz</code> files, with the corresponding <code>.vcf.gz.tbi</code> index.</li>
<li>One or more (1+) benchmark <code>.bed</code> files.</li>
</ul>
</li>
</ol>
<hr />
<h4 id="metadata-format">Metadata Format</h4>
<table>
<thead>
<tr>
<th>Column Number</th>
<th>Column Name</th>
<th>Description</th>
<th>Data Type</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>RunOrder</td>
<td>Sequential number for each trio</td>
<td>integer</td>
</tr>
<tr>
<td>2</td>
<td>RunName</td>
<td>A unique name for the trio's output directory</td>
<td>string without spaces</td>
</tr>
<tr>
<td>3</td>
<td>ChildSampleID</td>
<td>A primary, unique identifier for a child; must match the SampleID in the child’s <code>VCF/BAM/BED</code> files</td>
<td>alpha-numeric characters</td>
</tr>
<tr>
<td>4</td>
<td>ChildLabID</td>
<td>A secondary, unique ID for a child ; <code>default=ChildSampleID</code></td>
<td>alpha-numeric characters</td>
</tr>
<tr>
<td>5</td>
<td>FatherSampleID</td>
<td>A primary, unique identifier for a father; must match the SampleID in the father’s <code>VCF/BAM/BED</code> files</td>
<td>alpha-numeric characters</td>
</tr>
<tr>
<td>6</td>
<td>FatherLabID</td>
<td>A secondary, unique ID for a father; <code>default=FatherSampleID</code></td>
<td>alpha-numeric characters</td>
</tr>
<tr>
<td>7</td>
<td>MotherSampleID</td>
<td>A primary, unique identifier for a mother; must match the SampleID in the mother’s <code>VCF/BAM/BED</code> files</td>
<td>alpha-numeric characters</td>
</tr>
<tr>
<td>8</td>
<td>MotherLabID</td>
<td>A secondary, unique ID for a mother; <code>default=MotherSampleID</code></td>
<td>alpha-numeric characters</td>
</tr>
<tr>
<td>9</td>
<td>ChildSex</td>
<td>The sex of the child, where <code>F=female, M=male, U=unknown</code></td>
<td><code>F</code>, <code>M</code>, <code>U</code></td>
</tr>
<tr>
<td>10</td>
<td>RefFASTA</td>
<td>The absolute path to the reference file</td>
<td><code>/path/to/file</code></td>
</tr>
<tr>
<td>11</td>
<td>PopVCF</td>
<td>The absolute path to the population allele frequency file; <strong>if blank, allele frequency information will not be included in the TensorFlow records during example image creation</strong></td>
<td><code>/path/to/file</code></td>
</tr>
<tr>
<td>12</td>
<td>RegionsFile</td>
<td>a <code>.bed</code> file where each line represents a genomic region for shuffling; each shuffling region produce a set of file shards which depends upon the number of CPUs requested via SLURM; <strong>over-rides RegionShuffling if included</strong></td>
<td><code>/path/to/file</code></td>
</tr>
<tr>
<td>13</td>
<td>ChildReadsBAM</td>
<td>The absolute path to the child's aligned reads</td>
<td><code>/path/to/file</code></td>
</tr>
<tr>
<td>14</td>
<td>ChildTruthVCF</td>
<td>The absolute path to the child's truth genotypes</td>
<td><code>/path/to/file</code></td>
</tr>
<tr>
<td>15</td>
<td>ChildCallableBED</td>
<td>The absolute path to the child's callable regions</td>
<td><code>/path/to/file</code></td>
</tr>
<tr>
<td>16</td>
<td>FatherReadsBAM</td>
<td>The absolute path to the fathers's aligned reads</td>
<td><code>/path/to/file</code></td>
</tr>
<tr>
<td>17</td>
<td>FatherTruthVCF</td>
<td>The absolute path to the father's truth genotypes</td>
<td><code>/path/to/file</code></td>
</tr>
<tr>
<td>18</td>
<td>FatherCallableBED</td>
<td>The absolute path to the father's callable regions</td>
<td><code>/path/to/file</code></td>
</tr>
<tr>
<td>19</td>
<td>MotherReadsBAM</td>
<td>The absolute path to the mother's aligned reads</td>
<td><code>/path/to/file</code></td>
</tr>
<tr>
<td>20</td>
<td>MotherVCF</td>
<td>The absolute path to the mother's truth genotypes</td>
<td><code>/path/to/file</code></td>
</tr>
<tr>
<td>21</td>
<td>MotherCallableBED</td>
<td>The absolute path to the mother's callable regions</td>
<td><code>/path/to/file</code></td>
</tr>
<tr>
<td>22</td>
<td>Test1ReadsBAM</td>
<td>The absolute path to a test genome's aligned reads</td>
<td><code>/path/to/file</code></td>
</tr>
<tr>
<td>23</td>
<td>Test1TruthVCF</td>
<td>The absolute path to a test genome's truth genotypes</td>
<td><code>/path/to/file</code></td>
</tr>
<tr>
<td>24</td>
<td>Test1CallableBED</td>
<td>The absolute path to a test genome's callable regions</td>
<td><code>/path/to/file</code></td>
</tr>
</tbody>
</table>
<h4 id="adding-more-test-genomes">Adding more test genomes</h4>
<p>Each additional testing genome can be supplied by adding three (3) more columns in the following order:</p>
<table>
<thead>
<tr>
<th>Column Number</th>
<th>Column Name</th>
<th>Description</th>
<th>Data Type</th>
</tr>
</thead>
<tbody>
<tr>
<td>25</td>
<td>Test#ReadsBAM</td>
<td>The absolute path to a test genome's aligned reads</td>
<td><code>/path/to/file</code></td>
</tr>
<tr>
<td>26</td>
<td>Test#TruthVCF</td>
<td>The absolute path to a test genome's truth genotypes</td>
<td><code>/path/to/file</code></td>
</tr>
<tr>
<td>27</td>
<td>Test#CallableBED</td>
<td>The absolute path to a test genome's callable regions</td>
<td><code>/path/to/file</code></td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <code>#</code> in <code>Test#</code> does not correspond to the order each test is performed, as testing is performed in parallel. However, the number for each test genomes must be sequential to provide a unique label for output files.</p>
</div>
<h2 id="triotrain-outputs">TrioTrain Outputs</h2>
<p>TODO: add a description here!</p>

  <hr>
<div class="md-source-file">
  <small>
    
      Last update:
      <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">March 8, 2024</span>
      
    
  </small>
</div>





                
              </article>
            </div>
          
          
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Back to top
          </button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs", "navigation.tabs.sticky", "navigation.top", "toc.integrate", "content.code.copy"], "search": "../../assets/javascripts/workers/search.208ed371.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.b4d07000.min.js"></script>
      
        <script src="../../js/open_in_new_tab.js"></script>
      
    
  </body>
</html>